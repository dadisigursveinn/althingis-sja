votes_of_some_party
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
party_vote_summary <- summarise(group_by(votesPerIssue, party_id, vote_id, vote), vote_count = n())
party_vote_summary
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
summary_of_how_parties_voted
summary_of_how_parties_voted["vote_id"] %>% distinct
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
summary_of_how_parties_voted["vote_id"] %>% distinct
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
summary_of_how_parties_voted["vote_id"]
summary_of_how_parties_voted["vote_id"] %>% distinct
summary_of_how_parties_voted["vote_id"] %>% distinct
list(summary_of_how_parties_voted["vote_id"] %>% distinct)
summary_of_how_parties_voted["vote_id"] %>% distinct
summary_of_how_parties_voted["vote_id"] %>% distinct
voting_sessions <- summary_of_how_parties_voted["vote_id"] %>% distinct
votes_of_some_party
some_voting_session <- voting_sessions[54788];
some_voting_session <- voting_sessions["54788"];
print(i);
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
counter;
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
votes_of_some_party
votes_of_some_party
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
votes_of_some_party
for (voting_session_id in 1:nrow(voting_session_ids)) {
#print(voting_session_id);
how_party_voted <- filter(summary_of_how_parties_voted, vote_id == voting_session_id);
}
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
print(last_voting_session);
last_voting_session
print(voting_session_id);
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
voting_session_ids
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
print(i["vote_id"]);
voting_session_ids
voting_session_ids[0]
voting_session_ids[0]
voting_session_ids
voting_session_ids["vote_id"]
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
print(i["vote_id"]);
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
voting_session_ids <- summary_of_how_parties_voted["vote_id"] %>% distinct
voting_session_ids
voting_session_ids
voting_session_ids[4]
voting_session_ids[1][3]
voting_session_ids[1][1]
voting_session_ids[2][1]
voting_session_ids[1][0]
voting_session_ids[1][2]
voting_session_ids[1][1]
voting_session_ids[3][1]
voting_session_ids[1][3]
voting_session_ids[1]
voting_session_ids["vote_id"]
voting_session_ids["vote_id"]
# Takes votes of some party in a particular voting session and returns discord for that session.
# Input: *party_id vote_id vote vote_count*
# Output: Discord value from 0.0 to 1.0
# Example: partyDiscord(votes_of_some_party) # => 0.44
partyDiscord <- function(votes_of_some_party) {
number_of_yes <- 0;
number_of_no <- 0;
for(i in 1:nrow(votes_of_some_party)) {
ifelse (votes_of_some_party[i, "vote"] == "já", number_of_yes <- votes_of_some_party[i, "vote_count"], number_of_no <- votes_of_some_party[i, "vote_count"]);
}
total_votes <- number_of_yes + number_of_no;
discord <- abs(total_votes - abs(number_of_yes - number_of_no)) / total_votes;
return(discord);
}
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
print(i);
voting_session_ids <- summary_of_how_parties_voted["vote_id"] %>% distinct
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
voting_session_ids
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
# *party_id vote_id vote vote_count*
summary_of_how_parties_voted <- summarise(group_by(votesPerIssue, party_id, vote_id, vote), vote_count = n())
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
# *party_id vote_id vote vote_count*
summary_of_how_parties_voted <- summarise(group_by(votesPerIssue, party_id, vote_id, vote), vote_count = n())
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
filter(summary_of_how_parties_voted, vote_id == 55242);
# *party_id vote_id vote vote_count*
summary_of_how_parties_voted <- summarise(group_by(votesPerIssue, party_id, vote_id, vote), vote_count = n())
summary_of_how_parties_voted
summary_of_how_parties_voted
filter(summary_of_how_parties_voted, vote %in% c("já", "nei"))
summary_of_how_parties_voted <- filter(summary_of_how_parties_voted, vote %in% c("já", "nei"))
summary_of_how_parties_voted
summary_of_how_parties_voted
group_by(summary_of_how_parties_voted, party_id)
fa <- group_by(summary_of_how_parties_voted, party_id)
fa
summary_of_how_parties_voted %>% distinct
summary_of_how_parties_voted
group_by(summary_of_how_parties_voted, vote_id)
partyDiscord(summary_of_how_parties_voted);
summary_of_how_parties_voted
summary_of_how_parties_voted
filter(summary_of_how_parties_voted, vote_id == 54781)
partyDiscord(hello)
hello <- filter(summary_of_how_parties_voted, vote_id == 54781)
hello
hello
hello
hello <- filter(summary_of_how_parties_voted, party_id == 43)
hello
hello[100]
hello[-1][100]
hello[0, 100]
hello[0, 100]
hello[0, 100]
hello <- filter(summary_of_how_parties_voted, party_id == 43)
partyDiscord <- function(party_votes_for_a_session) {
number_of_yes <- 0;
number_of_no <- 0;
for(i in 1:nrow(party_votes_for_a_session)) {
ifelse (party_votes_for_a_session[i, "vote"] == "já", number_of_yes <- party_votes_for_a_session[i, "vote_count"], number_of_no <- party_votes_for_a_session[i, "vote_count"]);
}
total_votes <- number_of_yes + number_of_no;
discord <- abs(total_votes - abs(number_of_yes - number_of_no)) / total_votes;
return(discord);
}
hello[0, 100]
hello[0, 3]
hello[0, 3]
hello[1, 3]
hello[1, 4]
hello
hello[,100]
hello[100,]
hello[100,..100,]
hello[100,]
hello[100-120,]
hello[100-220,]
hello[100,]
hello[100..120,]
hello[100,]
hello[100:120,]
hello[100:140,]
hello[130:140,]
hello[200:220,]
hello[100:220,]
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
options(max.print=25000)
hello[100:220,]
view(hello[100:220,])
view(hello[100:220,])
yes <- view(hello[100:220,])
yes
yes <- view(hello[100:220,])
yes
view(hello[100:220,])
view(hello[100:220,])
View(hello[100:220,])
View(hello)
hello <- filter(summary_of_how_parties_voted, party_id == 2)
View(hello)
hello <- filter(summary_of_how_parties_voted, party_id == 35)
View(hello)
hello <- filter(summary_of_how_parties_voted, party_id == 43)
View(hello)
votesPerIssue <- (merge(members, votes, by = c("member_id", "congress"))  %>%
select(party_id, vote_id, vote))
summary_of_how_parties_voted
filter(summary_of_how_parties_voted, party_id == 43)
filter(summary_of_how_parties_voted, party_id == 43)["vote_id", "vote", "vote_count"]
filter(summary_of_how_parties_voted, party_id == 43) %>% ["vote_id", "vote", "vote_count"]
data <- filter(summary_of_how_parties_voted, party_id == 43)
data
summarize(group_by(data, "vote_id"))
summarize(group_by(data, "vote_id", "vote"))
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
data <- filter(summary_of_how_parties_voted, party_id == 43)
data <- filter(summary_of_how_parties_voted, party_id == 43)
data
table(data)
data
data$yes <- data$party_id
data
data <- filter(summary_of_how_parties_voted, party_id == 43)
t(data)
data$yes <- data$vote_count
data <- filter(summary_of_how_parties_voted, party_id == 43)
data
data$yes <- data$vote == "já"
data
data$yes <- ifelse(data$vote == "já", data$vote_count)
data$yes <- ifelse(data$vote == "já", data$vote_count, FALSE)
data
data <- filter(summary_of_how_parties_voted, party_id == 43)
data <- filter(summary_of_how_parties_voted, party_id == 43)
data
ifelse(data$vote == "já", data$ja <- data$vote_count, data$nei <- data$vote_count)
data
data <- filter(summary_of_how_parties_voted, party_id == 43)
data$yes <- ifelse(data$vote == "já", data$vote_count, 0)
data$yes <- if(data$vote == "já", data$vote_count)
data$nei <- if(data$vote == "nei", data$vote_count)
data <- filter(summary_of_how_parties_voted, party_id == 43)
data$yes <- if(data$vote == "já") { data$vote_count}
data$nei <- if(data$vote == "nei") { data$vote_count}
data
data$nei <- if(data$vote == "nei") { data$vote_count}
data <- filter(summary_of_how_parties_voted, party_id == 43)
data$yes <- if(data$vote == "já") { data$vote_count}
data
data$nei <- if(data$vote == "nei") { data$vote_count}
data$yes <- if(data$vote == "já") { data$vote_count}
data
data$yes <- ifelse(data$vote == "já", data$vote_count, 0)
data
data <- filter(summary_of_how_parties_voted, party_id == 43)
data$yes <- ifelse(data$vote == "já", data$vote_count, NULL)
data
data
data <- filter(summary_of_how_parties_voted, party_id == 43)
data$yes <- ifelse(data$vote == "já", data$vote_count, NULL)
data
data <- filter(summary_of_how_parties_voted, party_id == 43)
data$yes <- ifelse(data$vote == "já", data$vote_count, 0)
data
data$nei <- ifelse(data$vote == "nei", data$vote_count, 0)
data
(data$yes <- ifelse(data$vote == "já", data$vote_count, 0))$nei <- ifelse(data$vote == "nei", data$vote_count, 0)
data$yes <- ifelse(data$vote == "já", data$vote_count, 0)
data$nei <- ifelse(data$vote == "nei", data$vote_count, 0)
data
select(data, "party_id", "vote_id", "yes", "no")
data
select(data, "party_id", "vote_id", "ja", "nei")
data <- filter(summary_of_how_parties_voted, party_id == 43)
data$ja <- ifelse(data$vote == "já", data$vote_count, 0)
data$nei <- ifelse(data$vote == "nei", data$vote_count, 0)
select(data, "party_id", "vote_id", "ja", "nei")
data <- filter(summary_of_how_parties_voted, party_id == 43)
data$ja <- ifelse(data$vote == "já", data$vote_count, (data$nei <- data$vote_count))
select(data, "party_id", "vote_id", "ja", "nei")
data <- filter(summary_of_how_parties_voted, party_id == 43)
data$ja <- ifelse(data$vote == "já", data$vote_count, 0)
data$nei <- ifelse(data$vote == "nei", data$vote_count, 0)
select(data, "party_id", "vote_id", "ja", "nei")
data <- select(data, "party_id", "vote_id", "ja", "nei")
summarise(group_by(data, "ja", "nei", n()))
summarise(group_by(data, "party_id", "vote_id", "ja", "nei", n()))
summarise(group_by(data, "party_id", "vote_id", "ja", "nei", n()))
data[, lapply(.SD, sum), by=list(season, lic, id, vessel)]
library(data.table)
data[, lapply(.SD, sum), by=list(season, lic, id, vessel)]
data[, lapply(.SD, sum)]
data[, lapply("vote_id", sum)]
data[, lapply(data["vote_id"], sum)]
data <- select(data, "party_id", "vote_id", "ja", "nei")
data
dataTable <- data.table(data)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
install.packages("data.table")
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
dataTable <- data.table(data)
DT <- data.table(data)
DT
DT[, lapply(.SD, sum), by=list(vote_id)]
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
votesPerIssue <- (merge(members, votes, by = c("member_id", "congress"))  %>%
select(party_id, vote_id, vote))
summarizePartyVotes(votesPerIssue)
votesPerIssue <- (merge(members, votes, by = c("member_id", "congress"))  %>%
select(party_id, vote_id, vote))
summarizePartyVotes(votesPerIssue)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
summarizePartyVotes(votesPerIssue)
party_votes_summary <- summarizePartyVotes(votesPerIssue)
total_votes <- yes + no;
discord <- abs(total_votes - abs(yes - no)) / total_votes;
return(discord);
}
# Takes votes of some party in a particular voting session and returns discord for that session.
# Input: <table> *party_id vote_id vote vote_count*
# Output: <float> Discord value from 0.0 to 1.0
# Example: partyDiscord(party_votes_for_a_session) # => 0.44
partyDiscord <- function(party_votes_for_a_session) {
number_of_yes <- 0;
number_of_no <- 0;
for(i in 1:nrow(party_votes_for_a_session)) {
ifelse (party_votes_for_a_session[i, "vote"] == "já", number_of_yes <- party_votes_for_a_session[i, "vote_count"], number_of_no <- party_votes_for_a_session[i, "vote_count"]);
}
total_votes <- number_of_yes + number_of_no;
discord <- abs(total_votes - abs(number_of_yes - number_of_no)) / total_votes;
return(discord);
}
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
party_votes_summary$party_discord <- partyDiscord(party_votes_summary$ja, party_votes_summary$ja);
party_votes_summary$party_discord <- partyDiscord(party_votes_summary$ja, party_votes_summary$nei);
party_votes_summary <- summarizePartyVotes(votesPerIssue)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
party_votes_summary <- summarizePartyVotes(votesPerIssue)
party_votes_summary
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
party_votes_summary$party_discord <- partyDiscord(party_votes_summary$ja, party_votes_summary$nei);
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
party_votes_summary
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
party_votes_summary
DT <- data.table(party_votes_summary);
DT[, lapply(.SD, mean), by=list(party_id)]
View(DT)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
DT[, lapply(mean), by=list(party_id)]
DT[, lapply(.SD, mean), by=list(party_id)]
DT[, lapply(.SD, sum), by=list(party_id)]
DT[, lapply(.SD, mean), by=list(party_id)]
party_votes_summary <- summarizePartyVotes(votesPerIssue)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
DT <- data.table(party_votes_summary);
DT
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
summarizePartyVotes <- function(votesPerIssue) {
data <- summarise(group_by(votesPerIssue, party_id, vote_id, vote), vote_count = n());
data <- filter(summary_of_how_parties_voted, vote %in% c("já", "nei"));
#data <- filter(summary_of_how_parties_voted, party_id == 43);
data$ja <- ifelse(data$vote == "já", data$vote_count, 0);
data$nei <- ifelse(data$vote == "nei", data$vote_count, 0);
data <- select(data, "party_id", "vote_id", "ja", "nei");
DT <- data.table(data);
return(DT[, lapply(.SD, sum), by=list(vote_id)])["vote_id"];
}
party_votes_summary <- summarizePartyVotes(votesPerIssue)
party_votes_summary
summarizePartyVotes <- function(votesPerIssue) {
data <- summarise(group_by(votesPerIssue, party_id, vote_id, vote), vote_count = n());
data <- filter(summary_of_how_parties_voted, vote %in% c("já", "nei"));
#data <- filter(summary_of_how_parties_voted, party_id == 43);
data$ja <- ifelse(data$vote == "já", data$vote_count, 0);
data$nei <- ifelse(data$vote == "nei", data$vote_count, 0);
data <- select(data, "party_id", "vote_id", "ja", "nei");
DT <- data.table(data);
return(DT[, lapply(.SD, sum), by=list(vote_id)]);
}
summarizePartyVotes <- function(votesPerIssue) {
data <- summarise(group_by(votesPerIssue, party_id, vote_id, vote), vote_count = n());
data <- filter(summary_of_how_parties_voted, vote %in% c("já", "nei"));
#data <- filter(summary_of_how_parties_voted, party_id == 43);
data$ja <- ifelse(data$vote == "já", data$vote_count, 0);
data$nei <- ifelse(data$vote == "nei", data$vote_count, 0);
data <- select(data, "party_id", "vote_id", "ja", "nei");
DT <- data.table(data);
return(DT[, lapply(.SD, sum), by=list(ja)]);
}
party_votes_summary <- summarizePartyVotes(votesPerIssue)
party_votes_summary
summarizePartyVotes <- function(votesPerIssue) {
data <- summarise(group_by(votesPerIssue, party_id, vote_id, vote), vote_count = n());
data <- filter(summary_of_how_parties_voted, vote %in% c("já", "nei"));
#data <- filter(summary_of_how_parties_voted, party_id == 43);
data$ja <- ifelse(data$vote == "já", data$vote_count, 0);
data$nei <- ifelse(data$vote == "nei", data$vote_count, 0);
data <- select(data, "party_id", "vote_id", "ja", "nei");
DT <- data.table(data);
return(DT[, lapply(.SD, sum), by=list(ja, nei)]);
}
party_votes_summary <- summarizePartyVotes(votesPerIssue)
party_votes_summary
summarizePartyVotes <- function(votesPerIssue) {
data <- summarise(group_by(votesPerIssue, party_id, vote_id, vote), vote_count = n());
data <- filter(summary_of_how_parties_voted, vote %in% c("já", "nei"));
#data <- filter(summary_of_how_parties_voted, party_id == 43);
data$ja <- ifelse(data$vote == "já", data$vote_count, 0);
data$nei <- ifelse(data$vote == "nei", data$vote_count, 0);
data <- select(data, "party_id", "vote_id", "ja", "nei");
DT <- data.table(data);
return(DT[, lapply(.SD, sum), by=list(party_id)]);
}
DT <- data.table(data);
DT
summarizePartyVotes <- function(votesPerIssue) {
data <- summarise(group_by(votesPerIssue, party_id, vote_id, vote), vote_count = n());
data <- filter(summary_of_how_parties_voted, vote %in% c("já", "nei"));
#data <- filter(summary_of_how_parties_voted, party_id == 43);
data$ja <- ifelse(data$vote == "já", data$vote_count, 0);
data$nei <- ifelse(data$vote == "nei", data$vote_count, 0);
data <- select(data, "party_id", "vote_id", "ja", "nei");
DT <- data.table(data);
return(aggregate(DT$party_id, by=list(Party=DT$votes), FUN=sum));
}
party_votes_summary <- summarizePartyVotes(votesPerIssue)
party_votes_summary
party_votes_summary <- summarizePartyVotes(votesPerIssue)
return(aggregate(DT$party_id, by=list(SumOfVotes=DT$votes), FUN=sum));
DT <- data.table(data);
DT
aggregate(DT$party_id, by=list(SumOfVotes=DT$votes), FUN=sum)
return(aggregate(DT$party_id, by=list(SumOfJa=DT$ja, SumOfNei=DT$nei), FUN=sum));
summarizePartyVotes <- function(votesPerIssue) {
data <- summarise(group_by(votesPerIssue, party_id, vote_id, vote), vote_count = n());
data <- filter(summary_of_how_parties_voted, vote %in% c("já", "nei"));
#data <- filter(summary_of_how_parties_voted, party_id == 43);
data$ja <- ifelse(data$vote == "já", data$vote_count, 0);
data$nei <- ifelse(data$vote == "nei", data$vote_count, 0);
data <- select(data, "party_id", "vote_id", "ja", "nei");
DT <- data.table(data);
return(aggregate(DT$party_id, by=list(SumOfJa=DT$ja, SumOfNei=DT$nei), FUN=sum));
}
party_votes_summary
party_votes_summary <- summarizePartyVotes(votesPerIssue)
aggregate(DT$party_id, by=list(SumOfJa=DT$ja, SumOfNei=DT$nei), FUN=sum)
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
party_votes_summary <- summarizePartyVotes(votesPerIssue)
party_votes_summary
DT <- data.table(data);
aggregate(DT$party_id, by=list(SumOfJa=DT$ja, SumOfNei=DT$nei), FUN=sum)
aggregate(DT$ja, by=list(SumOfJa=DT$ja, SumOfNei=DT$nei), FUN=sum)
DT <- data.table(data);
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
DT <- data.table(data);
D
DT
DT
DT[,list(ja=sum(ja),nei=sum(nei)),by=list(party_id, vote_id)]
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
party_votes_summary <- summarizePartyVotes(votesPerIssue)
party_votes_summary
DT[,list(ja=sum(ja),nei=sum(nei)),by=list(party_id, vote_id)]
DT <- data.table(data);
DT
DT[,list(ja=sum(ja),nei=sum(nei)),by=list(party_id, vote_id)]
return(DT[,list(ja=sum(ja),nei=sum(nei)),by=list(party_id, vote_id)]);
source('~/althingis-data/visualization/party_discord_visualization.R', echo=TRUE)
party_votes_summary <- summarizePartyVotes(votesPerIssue)
party_votes_summary
party_votes_summary$party_discord <- partyDiscord(party_votes_summary$ja, party_votes_summary$nei);
party_votes_summary
party_votes_summary
DT <- data.table(party_votes_summary);
DT <- data.table(party_votes_summary);
DT
DT[,list(party_discord=mean(party_discord)),by=list(party_id)])
DT[,list(party_discord=mean(party_discord),by=list(party_id)])
DT[,list(party_discord=mean(party_discord)),by=list(party_id)]
average_party_discord_by_party <- DT[,list(party_discord=mean(party_discord)),by=list(party_id)];
